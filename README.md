# Zaman AI Assistant - Банковский AI-ассистент

## Описание проекта

AI-ассистент нового поколения для Zaman Bank, который помогает пользователям управлять финансами через голосовое и текстовое взаимодействие. Система основана на исламских финансовых принципах и предоставляет персонализированные рекомендации.

## Основные возможности

### 🎯 Финансовые цели
- Создание и отслеживание финансовых целей (квартира, образование, путешествия)
- AI-рекомендации по достижению целей
- Мотивационные сообщения и поддержка

### 💰 Анализ финансов
- Анализ доходов и расходов
- Выявление паттернов трат
- Рекомендации по оптимизации бюджета

### 🏦 Банковские продукты
- Подбор исламских банковских продуктов
- Персонализированные рекомендации
- Сравнительный анализ продуктов

### 🧘 Борьба со стрессом
- Альтернативные способы борьбы со стрессом
- Рекомендации без импульсивных покупок
- Поддержка здоровых финансовых привычек

## Архитектура системы

### Технологический стек
- **Backend**: Spring Boot 3.2, Java 17
- **Database**: PostgreSQL
- **AI**: OpenAI GPT-4o-mini, Whisper, Embeddings
- **Security**: Spring Security, JWT
- **API**: RESTful API, WebSocket для real-time
- **Documentation**: Swagger/OpenAPI

### Микросервисная архитектура

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Web Client    │    │  Mobile App     │    │  Voice Client   │
└─────────┬───────┘    └─────────┬───────┘    └─────────┬───────┘
          │                      │                      │
          └──────────────────────┼──────────────────────┘
                                 │
                    ┌─────────────▼─────────────┐
                    │     API Gateway          │
                    │   (Spring Boot)          │
                    └─────────────┬─────────────┘
                                  │
        ┌─────────────────────────┼─────────────────────────┐
        │                         │                         │
┌───────▼────────┐    ┌───────────▼──────────┐    ┌───────▼────────┐
│ Chat Service   │    │  Financial Service   │    │  AI Service     │
│                │    │                      │    │                 │
│ - Conversations│    │ - Goals Management   │    │ - OpenAI GPT    │
│ - Messages     │    │ - Transactions       │    │ - Whisper       │
│ - Voice/Text   │    │ - Analysis           │    │ - Embeddings    │
└────────────────┘    └──────────────────────┘    └─────────────────┘
        │                         │                         │
        └─────────────────────────┼─────────────────────────┘
                                  │
                    ┌─────────────▼─────────────┐
                    │     Database Layer       │
                    │      PostgreSQL          │
                    └──────────────────────────┘
```

### Модели данных

#### User (Пользователь)
- Персональная информация
- Финансовые данные (доходы, расходы, сбережения)
- Предпочтения для AI
- Профиль риска

#### FinancialGoal (Финансовая цель)
- Название и описание цели
- Целевая сумма и дата
- Текущий прогресс
- AI-рекомендации
- Мотивационные советы

#### Transaction (Транзакция)
- Сумма и тип операции
- Категория расхода
- AI-анализ транзакции
- Паттерны трат

#### Conversation (Разговор)
- Тип разговора (текст/голос)
- Контекст и история
- Статус разговора

#### Message (Сообщение)
- Роль отправителя (пользователь/AI)
- Содержимое сообщения
- Анализ намерений и тональности
- Предлагаемые действия

## API Endpoints

### Chat API
- `POST /api/chat/message` - Отправка текстового сообщения
- `POST /api/chat/voice` - Отправка голосового сообщения
- `GET /api/chat/conversations` - Получение списка разговоров
- `GET /api/chat/conversations/{id}/messages` - Получение сообщений

### Financial Goals API
- `POST /api/goals` - Создание финансовой цели
- `GET /api/goals` - Получение целей пользователя
- `PUT /api/goals/{id}` - Обновление цели
- `POST /api/goals/{id}/contribute` - Внесение средств в цель
- `GET /api/goals/{id}/recommendations` - AI-рекомендации
- `GET /api/goals/{id}/motivation` - Мотивационные сообщения

### AI Services
- Анализ финансового состояния
- Генерация рекомендаций по целям
- Подбор банковских продуктов
- Анализ паттернов трат
- Борьба со стрессом

## Конфигурация

### Переменные окружения
```bash
# Database
DB_USERNAME=postgres
DB_PASSWORD=password

# AI API
OPENAI_API_KEY=sk-roG3OusRr0TLCHAADks6lw
OPENAI_BASE_URL=https://openai-hub.neuraldeep.tech

# Admin
ADMIN_PASSWORD=admin123
```

### Запуск приложения
```bash
# Development
./gradlew bootRun --args='--spring.profiles.active=dev'

# Production
./gradlew bootRun
```

## Особенности реализации

### Исламские финансовые принципы
- Все рекомендации соответствуют шариату
- Запрет на риба (проценты)
- Партнерство вместо кредитования
- Этичные инвестиции

### AI-персонализация
- Анализ профиля пользователя
- Адаптация под финансовые цели
- Учет культурных особенностей
- Поддержка на казахском и русском языках

### Безопасность
- JWT аутентификация
- Шифрование персональных данных
- Аудит всех операций
- Соответствие GDPR

## Развертывание

### Docker
```bash
docker build -t zaman-ai-assistant .
docker run -p 8080:8080 zaman-ai-assistant
```

### Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: zaman-ai-assistant
spec:
  replicas: 3
  selector:
    matchLabels:
      app: zaman-ai-assistant
  template:
    metadata:
      labels:
        app: zaman-ai-assistant
    spec:
      containers:
      - name: zaman-ai-assistant
        image: zaman-ai-assistant:latest
        ports:
        - containerPort: 8080
```

## Мониторинг и логирование

- Health checks через Spring Actuator
- Метрики производительности
- Структурированное логирование
- Алерты при ошибках AI

## Будущие улучшения

- Интеграция с мобильным приложением Zaman Bank
- Расширенная аналитика
- Мультиязычная поддержка
- Интеграция с внешними финансовыми API
- Машинное обучение для улучшения рекомендаций